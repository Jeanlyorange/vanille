<template>
  <div if.bind="!dataLoaded">
    <pageloading>Thanks for waiting while we fetch the data for this DAO...</pageloading>
  </div>
  <div else>
    <div if.bind="!org">
      <h4>DAO at ${address} was not found</h4>
    </div>
    <div else ref="dashboardElement">
      <div class="dashboard-header">
        <div class="dao-name">
          <img src="../../static/daostack-icon-white.svg" />${orgName}</div>
      </div>

      <div class="dashboard-schemes-container row" id="accordion_arc_schemes" role="tablist" show.bind="registeredArcSchemes.length">
        <div class="col-8 offset-2">
          <ul class="list-group clean dashboard-schemes">
            <li class="list-group-item" repeat.for="scheme of registeredArcSchemes">
              <div class="row scheme-use-button" data-toggle="collapse" data-target="#${scheme.name}" aria-expanded="false"
                aria-controls="#${scheme.name}">
                <div class="col-12">
                  <div class="scheme-name">${scheme.friendlyName}</div>
                </div>
              </div>
              <div id.bind="scheme.name" class="scheme-dashboard collapse" data-parent="#accordion_arc_schemes">
                <hr />
                <div class="card">
                  <div class="card-block">
                    <compose view-model.bind="getDashboardView(scheme)" model.bind="schemeDashboardViewModel(scheme)"></compose>
                  </div>
                </div>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</template>
