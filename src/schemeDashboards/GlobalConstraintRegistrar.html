<template>
<div class="arc-scheme-dashboard">
  <div class="arc-constraint-dashboard">
    <ul class="nav nav-tabs constraint-tabs" role="tablist">
      <li class="nav-item">
          <a class="nav-link active" href="#ProposeConstraint" data-toggle="tab" id="propose-tab" role="tab" aria-controls="Propose" aria-selected="false">Propose to Add Global Constraint</a>
      </li>
      <li class="nav-item">
          <a class="nav-link" href="#unProposeConstraint" data-toggle="tab" id="unpropose-tab" role="tab" aria-controls="unPropose" aria-selected="false">Propose to Remove Global Constraint</a>
        </li>
    </ul>
      
    <div class="tab-content">

      <div class="tab-pane fade show active" id="ProposeConstraint" role="tabpanel" aria-labelledby="propose-tab">
          
        <instructions>Propose to add new global constraints to <span class='org-name'>${orgName}</span>.
          After submitting the proposal, a vote will automatically be initiated using this scheme's voting machine.</instructions>
          
        <form>
          <global-constraints-dropdown constraint.bind="constraintToPropose">
          <span slot="buttonText"><span class="font-weight-bold">${constraintToPropose ? constraintToPropose.name : 'Select Global Constraint'}</span></span>
        </global-constraints-dropdown>

        <div if.bind="!!constraintToPropose">
            <etherscanlink address=${constraintToPropose.address}>${constraintToPropose.address}</etherscanlink>
            <div class="global-constraint-config">
              <compose view-model="${'../globalConstraintConfiguration/' + constraintToPropose.key}" model.bind="proposeConfiguration"></compose>
              <button class="btn-submit-proposal" click.delegate="proposeConstraint()">Submit Proposal</button>
            </div>
          </div>
        </form>
      </div>  

      <div class="tab-pane fade" id="unProposeConstraint" role="tabpanel" aria-labelledby="unpropose-tab">
        <instructions>Remove global constraints from <span class='org-name'>${orgName}</span>.
          After submitting the proposal, a vote will automatically be initiated using this scheme's voting machine.</instructions>
        <form>
            <global-constraints-dropdown constraint.bind="constraintToUnPropose" >
              <span slot="buttonText"><span class="font-weight-bold">${constraintToUnPropose ? constraintToUnPropose.name : 'Select Constraint to Remove'}</span></span>
            </global-constraints-dropdown>

          <div if.bind="!!constraintToUnPropose">
              <etherscanlink address=${constraintToUnPropose.address}>${constraintToUnPropose.address}</etherscanlink>
             <div class="mt-3"><button class="btn-submit-proposal" click.delegate="unProposeConstraint()">Submit Proposal</button></div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
</template>

